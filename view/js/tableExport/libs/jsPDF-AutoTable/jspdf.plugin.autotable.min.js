
"use strict";function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}(function(k){var e=1.15;var v,f,s,i,r;var w={cellPadding:5,fontSize:10,font:"helvetica",lineColor:200,lineWidth:0.1,fontStyle:"normal",overflow:"ellipsize",fillColor:255,textColor:20,halign:"left",valign:"top",fillStyle:"F",rowHeight:20,columnWidth:"auto"};var n={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal",fillStyle:"F"},header:{textColor:255,fillColor:[41,128,185],rowHeight:23,fontStyle:"bold"},body:{},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:0.1,fillStyle:"DF"},header:{textColor:255,fillColor:[26,188,156],rowHeight:23,fillStyle:"F",fontStyle:"bold"},body:{},alternateRow:{}},plain:{header:{fontStyle:"bold"}}};var t=function t(){return{theme:"striped",styles:{},headerStyles:{},bodyStyles:{},alternateRowStyles:{},columnStyles:{},startY:false,margin:40,pageBreak:"auto",tableWidth:"auto",createdHeaderCell:function y(F,G){},createdCell:function D(F,G){},drawHeaderRow:function B(G,F){},drawRow:function A(G,F){},drawHeaderCell:function x(F,G){},drawCell:function C(F,G){},beforePageContent:function z(F){},afterPageContent:function E(F){}}};k.autoTable=function(C,A,y){v=this;s=h(y||{});i=1;f={y:s.startY===false?s.margin.top:s.startY};var B={textColor:30,fontSize:v.internal.getFontSize(),fontStyle:v.internal.getFont().fontStyle};j(C,A);m();var z=r.rows[0]&&s.pageBreak==="auto"?r.rows[0].height:0;var x=s.startY+s.margin.bottom+r.headerRow.height+z;if(s.pageBreak==="avoid"){x+=r.height}if(s.pageBreak==="always"&&s.startY!==false||s.startY!==false&&x>v.internal.pageSize.height){v.addPage();f.y=s.margin.top}g(B);s.beforePageContent(a());if(s.drawHeaderRow(r.headerRow,a({row:r.headerRow}))!==false){d(r.headerRow,s.drawHeaderCell)}g(B);o();s.afterPageContent(a());g(B);return this};k.autoTableEndPosY=function(){if(typeof f==="undefined"||typeof f.y==="undefined"){return 0}return f.y};k.autoTableHtmlToJson=function(A){var C=[],D=[],E=A.rows[0],x,B,z,y;for(z=0;z<E.cells.length;z++){D.push(typeof E.cells[z]!=="undefined"?E.cells[z].textContent:"")}for(z=1;z<A.rows.length;z++){x=A.rows[z];B=[];for(y=0;y<E.cells.length;y++){B.push(typeof x.cells[y]!=="undefined"?x.cells[y].textContent:"")}C.push(B)}return{columns:D,data:C,rows:C}};k.autoTableText=function(F,D,C,H){if(typeof D!=="number"||typeof C!=="number"){console.error("The x and y parameters are required. Missing for the text: ",F)}var J=v.internal.getFontSize()/v.internal.scaleFactor;var B=e;var A=/\r\n|\r|\n/g;var I=null;var G=1;if(H.valign==="middle"||H.valign==="bottom"||H.halign==="center"||H.halign==="right"){I=typeof F==="string"?F.split(A):F;G=I.length||1}C+=J*(2-B);if(H.valign==="middle"){C-=G/2*J}else{if(H.valign==="bottom"){C-=G*J}}if(H.halign==="center"||H.halign==="right"){var E=J;if(H.halign==="center"){E*=0.5}if(G>=1){for(var z=0;z<I.length;z++){v.text(I[z],D-v.getStringUnitWidth(I[z])*E,C);C+=J}return v}D-=v.getStringUnitWidth(F)*E}v.text(F,D,C);return v};function h(z){var y=q(t(),z);if(typeof y.extendWidth!=="undefined"){y.tableWidth=y.extendWidth?"auto":"wrap";console.error("Use of deprecated option: extendWidth, use tableWidth instead.")}if(typeof y.margins!=="undefined"){if(typeof y.margin==="undefined"){y.margin=y.margins}console.error("Use of deprecated option: margins, use margin instead.")}[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(C){var B=typeof C==="string"?C:C[0];var A=typeof C==="string"?C:C[1];if(typeof y[B]!=="undefined"){if(typeof y.styles[A]==="undefined"){y.styles[A]=y[B]}console.error("Use of deprecated option: "+B+", use the style "+A+" instead.")}});var x=y.margin;y.margin={};if(typeof x.horizontal==="number"){x.right=x.horizontal;x.left=x.horizontal}if(typeof x.vertical==="number"){x.top=x.vertical;x.bottom=x.vertical}["top","right","bottom","left"].forEach(function(C,B){if(typeof x==="number"){y.margin[C]=x}else{var A=Array.isArray(x)?B:C;y.margin[C]=typeof x[A]==="number"?x[A]:40}});return y}function j(y,B){r=new Table;r.x=s.margin.left;var A=/\r\n|\r|\n/g;var z=new Row(y);z.index=-1;var x=q(w,n[s.theme].table,n[s.theme].header);z.styles=q(x,s.styles,s.headerStyles);y.forEach(function(E,F){if(typeof E==="object"){F=typeof E.dataKey!=="undefined"?E.dataKey:E.key}if(typeof E.width!=="undefined"){console.error("Use of deprecated option: column.width, use column.styles.columnWidth instead.")}var D=new Column(F);D.styles=s.columnStyles[D.dataKey]||{};r.columns.push(D);var C=new Cell;C.raw=typeof E==="object"?E.title:E;C.styles=z.styles;C.text=""+C.raw;C.contentWidth=C.styles.cellPadding*2+p(C.text,C.styles);C.text=C.text.split(A);z.cells[F]=C;s.createdHeaderCell(C,{column:D,row:z,settings:s})});r.headerRow=z;B.forEach(function(G,E){var H=new Row(G);var C=E%2===0;var D=q(w,n[s.theme].table,C?n[s.theme].alternateRow:{});var F=q(s.styles,s.bodyStyles,C?s.alternateRowStyles:{});H.styles=q(D,F);H.index=E;r.columns.forEach(function(J){var I=new Cell;I.raw=G[J.dataKey];I.styles=q(H.styles,J.styles);I.text=typeof I.raw!=="undefined"?""+I.raw:"";H.cells[J.dataKey]=I;s.createdCell(I,a({column:J,row:H}));I.contentWidth=I.styles.cellPadding*2+p(I.text,I.styles);I.text=I.text.split(A)});r.rows.push(H)})}function m(){var E=0;r.columns.forEach(function(F){F.contentWidth=r.headerRow.cells[F.dataKey].contentWidth;r.rows.forEach(function(H){var G=H.cells[F.dataKey].contentWidth;if(G>F.contentWidth){F.contentWidth=G}});F.width=F.contentWidth;E+=F.contentWidth});r.contentWidth=E;var D=v.internal.pageSize.width-s.margin.left-s.margin.right;var y=D;if(typeof s.tableWidth==="number"){y=s.tableWidth}else{if(s.tableWidth==="wrap"){y=r.contentWidth}}r.width=y<D?y:D;var C=[];var z=0;var x=r.width/r.columns.length;var B=0;r.columns.forEach(function(G){var F=q(w,n[s.theme].table,s.styles,G.styles);if(F.columnWidth==="wrap"){G.width=G.contentWidth}else{if(typeof F.columnWidth==="number"){G.width=F.columnWidth}else{if(F.columnWidth==="auto"||true){if(G.contentWidth<=x&&r.contentWidth>r.width){G.width=G.contentWidth}else{C.push(G);z+=G.contentWidth;G.width=0}}}}B+=G.width});u(C,B,z,x);r.height=0;var A=r.rows.concat(r.headerRow);A.forEach(function(I,H){var G=0;var F=r.x;r.columns.forEach(function(L){var K=I.cells[L.dataKey];L.x=F;g(K.styles);var J=L.width-K.styles.cellPadding*2;if(K.styles.overflow==="linebreak"){K.text=v.splitTextToSize(K.text,J+1,{fontSize:K.styles.fontSize})}else{if(K.styles.overflow==="ellipsize"){K.text=b(K.text,J,K.styles)}else{if(K.styles.overflow==="visible"){}else{if(K.styles.overflow==="hidden"){K.text=b(K.text,J,K.styles,"")}else{if(typeof K.styles.overflow==="function"){K.text=K.styles.overflow(K.text,J)}else{console.error("Unrecognized overflow type: "+K.styles.overflow)}}}}}var M=Array.isArray(K.text)?K.text.length-1:0;if(M>G){G=M}F+=L.width});I.heightStyle=I.styles.rowHeight;I.height=I.heightStyle+G*I.styles.fontSize*e;r.height+=I.height})}function u(F,D,C,A){var x=r.width-D-C;for(var z=0;z<F.length;z++){var y=F[z];var B=y.contentWidth/C;var E=y.contentWidth+x*B<A;if(x<0&&E){F.splice(z,1);C-=y.contentWidth;y.width=A;D+=y.width;u(F,D,C,A);break}else{y.width=y.contentWidth+x*B}}}function o(){r.rows.forEach(function(z,x){if(l(z.height)){var y=3;c()}z.y=f.y;if(s.drawRow(z,a({row:z}))!==false){d(z,s.drawCell)}})}function c(){s.afterPageContent(a());v.addPage();i++;f={x:s.margin.left,y:s.margin.top};s.beforePageContent(a());if(s.drawHeaderRow(r.headerRow,a({row:r.headerRow}))!==false){d(r.headerRow,s.drawHeaderCell)}}function l(x){var y=f.y+x+s.margin.bottom;return y>=v.internal.pageSize.height}function d(C,z){for(var y=0;y<r.columns.length;y++){var A=r.columns[y];var x=C.cells[A.dataKey];if(!x){continue}g(x.styles);x.x=A.x;x.y=f.y;x.height=C.height;x.width=A.width;if(x.styles.valign==="top"){x.textPos.y=f.y+x.styles.cellPadding}else{if(x.styles.valign==="bottom"){x.textPos.y=f.y+C.height-x.styles.cellPadding}else{x.textPos.y=f.y+C.height/2}}if(x.styles.halign==="right"){x.textPos.x=x.x+x.width-x.styles.cellPadding}else{if(x.styles.halign==="center"){x.textPos.x=x.x+x.width/2}else{x.textPos.x=x.x+x.styles.cellPadding}}var B=a({column:A,row:C});if(z(x,B)!==false){v.rect(x.x,x.y,x.width,x.height,x.styles.fillStyle);v.autoTableText(x.text,x.textPos.x,x.textPos.y,{halign:x.styles.halign,valign:x.styles.valign})}}f.y+=C.height}function g(y){var x=[{func:v.setFillColor,value:y.fillColor},{func:v.setTextColor,value:y.textColor},{func:v.setFontStyle,value:y.fontStyle},{func:v.setDrawColor,value:y.lineColor},{func:v.setLineWidth,value:y.lineWidth},{func:v.setFont,value:y.font},{func:v.setFontSize,value:y.fontSize}];x.forEach(function(z){if(typeof z.value!=="undefined"){if(z.value.constructor===Array){z.func.apply(this,z.value)}else{z.func(z.value)}}})}function a(x){x=x||{};var y={pageCount:i,settings:s,table:r,cursor:f};for(var z in x){if(x.hasOwnProperty(z)){y[z]=x[z]}}return y}function b(A,x,y,z){z=typeof z!=="undefined"?z:"...";if(Array.isArray(A)){A.forEach(function(C,B){A[B]=b(C,x,y,z)});return A}if(x>=p(A,y)){return A}while(x<p(A+z,y)){if(A.length<2){break}A=A.substring(0,A.length-1)}return A.trim()+z}function p(z,y){g(y);var x=v.getStringUnitWidth(z);return x*y.fontSize}function q(A){var x={};var B;for(B in A){if(A.hasOwnProperty(B)){x[B]=A[B]}}for(var z=1;z<arguments.length;z++){var y=arguments[z];for(B in y){if(y.hasOwnProperty(B)){if(typeof y[B]==="object"&&!Array.isArray(y[B])){x[B]=y[B]}else{x[B]=y[B]}}}}return x}})(jsPDF.API);var Table=function Table(){_classCallCheck(this,Table);this.height=0;this.width=0;this.x=0;this.y=0;this.contentWidth=0;this.rows=[];this.columns=[];this.headerRow=null;this.settings={}};var Row=function Row(a){_classCallCheck(this,Row);this.raw=a||{};this.index=0;this.styles={};this.cells={};this.height=0;this.y=0};var Cell=function Cell(a){_classCallCheck(this,Cell);this.raw=a;this.styles={};this.text="";this.contentWidth=0;this.textPos={};this.height=0;this.width=0;this.x=0;this.y=0};var Column=function Column(a){_classCallCheck(this,Column);this.dataKey=a;this.options={};this.styles={};this.contentWidth=0;this.width=0;this.x=0};