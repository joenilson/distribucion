<!--
Copyright (C) 2017 Joe Nilson <joenilson at gmail.com>

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<div role="tabpanel" class="tab-pane" id="articulos">
    {if="$fsc->procesado"}
    <div class="col-sm-5">
        <ul class="list-group">
            <li class="list-group-item active">Familias</li>
            {loop="$fsc->resumen_familia"}
                <li class="list-group-item">
                    {$value->codigo} {$value->descripcion} {$value->madre}
                    <span class="badge">{$value->cantidad}</span>
                </li>
            {/loop}
        </ul>
    </div>
    <div class="col-sm-4">
        <div class="table-responsive">
            <table id="arbol-familias" class="table table-striped">
                <caption>
                    <a href="#" onclick="jQuery('#arbol-familias').treetable('expandAll');  return false;">Expandir Todos</a>
                    <a href="#" onclick="jQuery('#arbol-familias').treetable('collapseAll'); return false;">Minimizar Todos</a>
                </caption>
                <thead>
                    <tr class="text-uppercase text-center">
                        <th>Familia</th>
                        <th>Cantidad</th>
                        <th>Importe</th>
                    </tr>
                </thead>
                {loop="$fsc->resumen_familia"}
                <tbody>
                    <tr data-tt-id="{$value->codigo}" data-tt-parent-id="{$value->madre}" data-tt-branch='{$value->tipo}'>
                        <td class="text-left">{$value->descripcion}</td>
                        <td class="text-right">{$fsc->show_numero($value->cantidad)}</td>
                        <td class="text-right">{$fsc->show_numero($value->importe)}</td>
                    </tr>
                </tbody>
                {/loop}
            </table>
        </div>
    </div>
    <script>
    // initialize treeTable
    $("#arbol-familias").treetable({
        expandable:     true
        //onNodeExpand:   nodeExpand,
        //onNodeCollapse: nodeCollapse
    });
    </script>
    {/if}
</div>
